<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Transfer Matrices: Home page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Transfer Matrices
   </div>
   <div id="projectbrief">C++ library for transfer matrix computations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Home page </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="mainpage"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Purpose of this library</h1>
<p>This small template library provides a few convenient data types and methods that aim to make it easy to write performant transfer matrix programs.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Dependencies</h1>
<p>The library has a few runtime dependencies:</p><ul>
<li><a href="https://www.mpfr.org/">mpfr</a>,</li>
<li><a href="https://www.multiprecision.org/mpc/">mpc</a>,</li>
<li><a href="https://github.com/opencollab/arpack-ng">arpack</a>.</li>
<li><a href="http://www.openmathlib.org/OpenBLAS/docs/user_manual/">blas</a></li>
<li><a href="https://www.boost.org/">boost</a></li>
</ul>
<p>These libraries need to be installed on your system. The easiest way to achieve this is in your console, via your system's package manager; here are a few examples for popular packages managers</p>
<div class="fragment"><div class="line"># on macOS</div>
<div class="line">brew install arpack mpfr libmpc openblas boost</div>
<div class="line"> </div>
<div class="line"># on windows: via vcpkg (https://vcpkg.io/en/index.html)</div>
<div class="line">vcpkg install arpack-ng mpfr mpc openblas boost</div>
<div class="line"> </div>
<div class="line"># on linux; depending on your distribution: </div>
<div class="line"># ubuntu/debian based</div>
<div class="line">sudo apt install libarpack2-dev libmpfr-dev libmpc-dev libopenblas-dev libboost-all-dev</div>
<div class="line"># Fedora, CentOS, or RHEL-based Systems</div>
<div class="line">sudo dnf install arpack-devel mpfr-devel libmpc-devel openblas-devel boost-devel</div>
<div class="line"># for older versions</div>
<div class="line">sudo yum install arpack-devel mpfr-devel libmpc-devel openblas-devel boost-devel</div>
<div class="line"># on arch / Manjaro</div>
<div class="line">sudo pacman -S arpack mpfr libmpc openblas boost</div>
<div class="line"># on openSUSE</div>
<div class="line">sudo zypper install arpack-devel mpfr-devel libmpc-devel openblas-devel boost-devel</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Getting started</h1>
<p>This library is a template library, meaning it requires no compilation. Simply put the directory to <code>some/path/libtransftermatrices</code> and include <code>TransferMatrices.hpp</code> in your project:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;TransferMatrices.hpp&quot;</span></div>
</div><!-- fragment --><p>Make sure to compile with the option <code>-I/path/to/libtransfermatrices/include</code> so that the compiler sees the file <code>TransferMatrices.hpp</code>.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Usage</h1>
<p>The library provides some convenient template classes to cover common needs in transfer matrix computations.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Basis Vectors</h2>
<p>The class BasisVector&lt;K, V&gt; holds a <code>(key, value)</code> pair of arbitrary types.</p>
<p>A good practice is to derive from this class in order to define a particular basis of a space of states:</p>
<div class="fragment"><div class="line"><span class="keyword">using </span>BV = BasisVector&lt;bool *, double&gt;;</div>
<div class="line"><span class="keyword">class </span>IsingPM : <span class="keyword">public</span> BV {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keyword">using </span>BV::BV;</div>
<div class="line">};</div>
</div><!-- fragment --><p>In this example, we create a class <code>IsingPM</code> which holds <code>(key, value)</code> pairs, with</p>
<ul>
<li>keys of type <code>char *</code>, (C-style strings): sequences of 0s and 1s.</li>
<li>values of type <code>double</code>.</li>
</ul>
<p>The last <code>using</code> statement lets <code>IsingPM</code> inherit from the <code>BasisVector</code> constructor.</p>
<p>Inheriting gives us some flexibility to integrate more data into the BasisVector if we want, e.g. we could add</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>IsingPMBasis : <span class="keyword">public</span> BV {</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    uint nb_domain_walls;</div>
<div class="line">}</div>
</div><!-- fragment --><p>to store some more information about the state, in this case the number of Ising domain walls. Or we could define additional methods on the state:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">int</span> nb_domain_walls() {</div>
<div class="line">        <span class="keywordtype">int</span> res = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <span class="keyword">sizeof</span>(*this) - 1; i++)</div>
<div class="line">            <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[i] != (*<span class="keyword">this</span>)[i+1])</div>
<div class="line">                res += 1;</div>
<div class="line">        <span class="keywordflow">return</span> res;</div>
<div class="line">    }</div>
</div><!-- fragment --><p>For the complete documentation of this class click here</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Vectors</h2>
<p>To represent a general vector, which is a linear combination of basis vectors, the library exposes a class Vector&lt;BasisVector&gt; which stores several <code>(key, value)</code> pairs in a hash table (or dictionary), using the hash table implementation of the C++ standard library <code>std::unordered_map</code>. This data structure allows for fast insertion, lookup, and deletion.</p>
<p>Like for <code>BasisVector</code>s, it is a good practice to inherit from the <code>Vector</code> class:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>IsingState : <span class="keyword">public</span> Vector&lt;BasisVector&gt; {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using </span>Vector&lt;BasisVector&gt;::Vector&lt;BasisVector&gt;;</div>
<div class="line">};</div>
</div><!-- fragment --><p>This again gives some flexibility to add methods and data to the state.</p>
<p>One can multiply a vector by a scalar, add a basis vector to a vector, or add vectors together. Vectors can be looped through, or looped through and drained at the same time, which is useful to limit memory usage. To prevent overflowing of vector components, one can factorize the norm of the vector:</p>
<div class="fragment"><div class="line">IsingState v = IsingState(10); # initialises a vector with a hash table of size 10</div>
<div class="line">v *= 100.0;</div>
<div class="line">v.factorise_norm();</div>
</div><!-- fragment --><p>The norm of the vector is stored as an arbitrary precision number, which cannot overflow.</p>
<p>One can easily iterate over all components of a vector <code>v</code>: iterate over the vector and cast the iterator to a <code>BasisVector</code>, in our example of type <code>IsingPMbasis</code>.</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span>(<span class="keyword">auto</span> it = v.begin(); it = v.end(); it++) {</div>
<div class="line">    IsingPMBasis p(*it);</div>
<div class="line">    printf(<span class="stringliteral">&quot;key = &quot;</span>); p.print(); printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>For the complete documentation of this class click here.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
R-matrices</h2>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
